// src/utils/mockData.js - Comprehensive dummy data with real images

// --- Mock Products (Expanded with real images) ---
export const mockProducts = [
  {
    id: 'prod101',
    name: 'Organic Fresh Milk',
    brand: 'Happy Cow Dairies',
    category: 'Dairy',
    description: 'Fresh organic milk from grass-fed cows, 1-liter carton. Rich in calcium, protein, and essential vitamins. Locally sourced from certified organic farms.',
    imageUrl: 'https://images.unsplash.com/photo-1563636619-e9143da7973b?q=80&w=500',
    tags: ['organic', 'fresh', 'local', 'calcium-rich'],
  },
  {
    id: 'prod102',
    name: 'Artisan Sourdough Bread',
    brand: 'Baker\'s Delight',
    category: 'Bakery',
    description: 'Hand-kneaded sourdough, baked fresh daily. Perfect for sandwiches and toast. Made with natural fermentation process for authentic flavor.',
    imageUrl: 'https://images.unsplash.com/photo-1509440159596-0249088772ff?q=80&w=500',
    tags: ['artisan', 'fresh', 'handmade', 'sourdough'],
  },
  {
    id: 'prod103',
    name: 'Fresh Hass Avocados (Pack of 3)',
    brand: 'Green Harvest Farms',
    category: 'Produce',
    description: 'Ripe and ready-to-eat Hass avocados, perfect for guacamole and salads. Rich in healthy fats and fiber. Imported from premium farms.',
    imageUrl: 'https://images.unsplash.com/photo-1523049673857-eb18f1d7b578?q=80&w=500',
    tags: ['organic', 'fresh', 'ripe', 'healthy'],
  },
  {
    id: 'prod104',
    name: 'Premium Arabica Coffee Beans',
    brand: 'Bean Voyage',
    category: 'Beverages',
    description: 'Single-origin Arabica beans, medium roast, 250g bag. Rich and aromatic with notes of chocolate and caramel. Perfect for espresso and filter coffee.',
    imageUrl: 'https://images.unsplash.com/photo-1559056199-641a0ac8b55e?q=80&w=500',
    tags: ['premium', 'single-origin', 'arabica', 'medium-roast'],
  },
  {
    id: 'prod105',
    name: 'Raw Organic Honey',
    brand: 'Bee Happy Apiary',
    category: 'Pantry',
    description: 'Raw, unfiltered organic honey from local wildflowers, 500g jar. Natural antibacterial properties. No processing or heating.',
    imageUrl: 'https://images.unsplash.com/photo-1587049352846-4a222e784d38?q=80&w=500',
    tags: ['organic', 'raw', 'local', 'unfiltered'],
  },
  {
    id: 'prod106',
    name: 'Free Range Eggs (Dozen)',
    brand: 'Farm Fresh',
    category: 'Dairy',
    description: 'Farm-fresh free-range eggs from happy hens. Rich in protein and omega-3. No antibiotics or hormones. Grade A quality.',
    imageUrl: 'https://images.unsplash.com/photo-1582722872445-44dc5f7e3c8f?q=80&w=500',
    tags: ['free-range', 'fresh', 'organic', 'protein-rich'],
  },
  {
    id: 'prod107',
    name: 'Whole Wheat Pasta',
    brand: 'Pasta Artisan',
    category: 'Pantry',
    description: 'Premium whole wheat pasta, 500g pack. High in fiber and nutrients. Made from 100% durum wheat. Perfect for healthy meals.',
    imageUrl: 'https://images.unsplash.com/photo-1621996346565-e3dbc646d9a9?q=80&w=500',
    tags: ['whole-wheat', 'healthy', 'premium', 'high-fiber'],
  },
  {
    id: 'prod108',
    name: 'Fresh Strawberries (500g)',
    brand: 'Berry Farms',
    category: 'Produce',
    description: 'Sweet and juicy strawberries, locally grown. Perfect for desserts and smoothies. Rich in vitamin C and antioxidants.',
    imageUrl: 'https://images.unsplash.com/photo-1464965911861-746a04b4bca6?q=80&w=500',
    tags: ['fresh', 'sweet', 'local', 'vitamin-c'],
  },
  {
    id: 'prod109',
    name: 'Extra Virgin Olive Oil',
    brand: 'Mediterranean Gold',
    category: 'Pantry',
    description: 'Cold-pressed extra virgin olive oil, 500ml bottle. Rich and flavorful with fruity notes. Perfect for salads and cooking.',
    imageUrl: 'https://images.unsplash.com/photo-1474979266404-7ea07b5e5cfe?q=80&w=500',
    tags: ['extra-virgin', 'cold-pressed', 'premium', 'mediterranean'],
  },
  {
    id: 'prod110',
    name: 'Fresh Atlantic Salmon Fillet',
    brand: 'Ocean Fresh',
    category: 'Seafood',
    description: 'Wild-caught Atlantic salmon, 300g fillet. Rich in omega-3 fatty acids. Sustainably sourced. Perfect for grilling or baking.',
    imageUrl: 'https://images.unsplash.com/photo-1544943910-4c1dc44aab44?q=80&w=500',
    tags: ['wild-caught', 'fresh', 'premium', 'omega-3'],
  },
  {
    id: 'prod111',
    name: 'Greek Yogurt (500g)',
    brand: 'Creamy Delight',
    category: 'Dairy',
    description: 'Thick and creamy Greek yogurt, high in protein. Perfect for breakfast bowls and smoothies. No added sugars or preservatives.',
    imageUrl: 'https://images.unsplash.com/photo-1488477181946-6428a0291774?q=80&w=500',
    tags: ['greek', 'protein', 'creamy', 'no-sugar'],
  },
  {
    id: 'prod112',
    name: 'Dark Chocolate (70% Cocoa)',
    brand: 'Cocoa Dreams',
    category: 'Pantry',
    description: 'Premium dark chocolate bar, 100g. Rich in antioxidants. Made from single-origin cocoa beans. Perfect for gifting or personal indulgence.',
    imageUrl: 'https://images.unsplash.com/photo-1606312619070-d48b4cbc6b50?q=80&w=500',
    tags: ['dark-chocolate', 'premium', 'antioxidants', 'single-origin'],
  },
  {
    id: 'prod113',
    name: 'Fresh Tomatoes (1kg)',
    brand: 'Garden Fresh',
    category: 'Produce',
    description: 'Ripe, red tomatoes perfect for salads, cooking, and sauces. Locally grown with no pesticides. Rich in lycopene and vitamin C.',
    imageUrl: 'https://images.unsplash.com/photo-1592841200221-a6898f307baa?q=80&w=500',
    tags: ['fresh', 'local', 'organic', 'vitamin-c'],
  },
  {
    id: 'prod114',
    name: 'Basmati Rice (5kg)',
    brand: 'Golden Grain',
    category: 'Pantry',
    description: 'Premium long-grain Basmati rice, aged for perfect texture. Aromatic and fluffy when cooked. Ideal for biryanis and pulao.',
    imageUrl: 'https://images.unsplash.com/photo-1586201375761-83865001e31c?q=80&w=500',
    tags: ['basmati', 'premium', 'long-grain', 'aromatic'],
  },
  {
    id: 'prod115',
    name: 'Fresh Spinach (250g)',
    brand: 'Green Leaf Farms',
    category: 'Produce',
    description: 'Fresh, tender spinach leaves. Rich in iron, vitamins, and minerals. Perfect for salads, smoothies, and cooking.',
    imageUrl: 'https://images.unsplash.com/photo-1576045057995-568f588f82fb?q=80&w=500',
    tags: ['fresh', 'organic', 'iron-rich', 'healthy'],
  },
  {
    id: 'prod116',
    name: 'Almonds (500g)',
    brand: 'Nutty Delights',
    category: 'Pantry',
    description: 'Premium California almonds, raw and unsalted. High in protein, healthy fats, and vitamin E. Perfect for snacking and cooking.',
    imageUrl: 'https://images.unsplash.com/photo-1606313564200-e75d5e30476c?q=80&w=500',
    tags: ['premium', 'raw', 'protein', 'healthy-fats'],
  },
];

// --- Mock Vendors (Expanded with real images) ---
export const mockVendors = [
  {
    id: 'vend201',
    name: 'Fresh Foods Market',
    address: '123 Market Street, Koramangala, Bangalore 560095',
    latitude: 12.9352,
    longitude: 77.6245,
    distance: 1.5,
    rating: 4.8,
    reviewCount: 234,
    openingHours: 'Mon-Sat: 8:00 AM - 8:00 PM, Sun: 9:00 AM - 6:00 PM',
    description: 'Your neighborhood fresh food market with the best local produce and organic options. We source directly from local farmers to bring you the freshest products at competitive prices.',
    imageUrl: 'https://images.unsplash.com/photo-1556910103-1c02745aae4d?q=80&w=800',
    products: [
      { productId: 'prod101', price: 3.99, stock: 'Available', stockCount: 45 },
      { productId: 'prod103', price: 2.49, stock: 'Low', stockCount: 8 },
      { productId: 'prod104', price: 12.99, stock: 'Available', stockCount: 23 },
      { productId: 'prod106', price: 4.99, stock: 'Available', stockCount: 30 },
      { productId: 'prod108', price: 4.99, stock: 'Available', stockCount: 18 },
    ],
    contactEmail: 'contact@freshfoods.com',
    contactPhone: '+91 80 1234 5678',
    isVerified: true,
    featured: true,
  },
  {
    id: 'vend202',
    name: 'The Local Grocer',
    address: '456 MG Road, Indiranagar, Bangalore 560038',
    latitude: 12.9784,
    longitude: 77.6408,
    distance: 3.2,
    rating: 4.6,
    reviewCount: 189,
    openingHours: 'Daily: 7:00 AM - 9:00 PM',
    description: 'Family-owned grocery store serving the community for over 20 years. We pride ourselves on quality products, competitive prices, and excellent customer service.',
    imageUrl: 'https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?q=80&w=800',
    products: [
      { productId: 'prod101', price: 4.29, stock: 'Available', stockCount: 32 },
      { productId: 'prod102', price: 5.50, stock: 'Available', stockCount: 15 },
      { productId: 'prod105', price: 8.75, stock: 'Low', stockCount: 5 },
      { productId: 'prod107', price: 3.99, stock: 'Available', stockCount: 28 },
      { productId: 'prod114', price: 15.99, stock: 'Available', stockCount: 12 },
    ],
    contactEmail: 'info@localgrocer.com',
    contactPhone: '+91 80 2345 6789',
    isVerified: true,
    featured: false,
  },
  {
    id: 'vend203',
    name: 'Daily Essentials',
    address: '789 Brigade Road, Bangalore 560025',
    latitude: 12.9716,
    longitude: 77.5946,
    distance: 0.8,
    rating: 4.4,
    reviewCount: 156,
    openingHours: 'Mon-Fri: 6:00 AM - 10:00 PM, Weekends: 7:00 AM - 9:00 PM',
    description: 'Convenient neighborhood store for all your daily needs. Open early, close late. We stock everything from fresh produce to pantry essentials.',
    imageUrl: 'https://images.unsplash.com/photo-1441986300917-64674bd600d8?q=80&w=800',
    products: [
      { productId: 'prod101', price: 3.89, stock: 'Available', stockCount: 40 },
      { productId: 'prod104', price: 13.50, stock: 'Out of Stock', stockCount: 0 },
      { productId: 'prod108', price: 4.99, stock: 'Available', stockCount: 18 },
      { productId: 'prod111', price: 5.49, stock: 'Available', stockCount: 22 },
      { productId: 'prod113', price: 2.99, stock: 'Available', stockCount: 35 },
    ],
    contactEmail: 'daily@essentials.com',
    contactPhone: '+91 80 3456 7890',
    isVerified: false,
    featured: false,
  },
  {
    id: 'vend204',
    name: 'Organic Corner',
    address: '101 Farm Road, Whitefield, Bangalore 560066',
    latitude: 12.9698,
    longitude: 77.7499,
    distance: 2.1,
    rating: 4.9,
    reviewCount: 312,
    openingHours: 'Daily: 8:00 AM - 7:00 PM',
    description: 'Premium organic products sourced directly from local farms. We specialize in certified organic produce, dairy, and pantry items. Health and sustainability are our priorities.',
    imageUrl: 'https://images.unsplash.com/photo-1542838132-92c53300491e?q=80&w=800',
    products: [
      { productId: 'prod102', price: 5.75, stock: 'Available', stockCount: 20 },
      { productId: 'prod103', price: 2.60, stock: 'Available', stockCount: 35 },
      { productId: 'prod105', price: 8.99, stock: 'Available', stockCount: 15 },
      { productId: 'prod109', price: 12.99, stock: 'Available', stockCount: 12 },
      { productId: 'prod115', price: 1.99, stock: 'Available', stockCount: 25 },
    ],
    contactEmail: 'organic@corner.com',
    contactPhone: '+91 80 4567 8901',
    isVerified: true,
    featured: true,
  },
  {
    id: 'vend205',
    name: 'Seaside Seafood Market',
    address: '202 Harbor Road, Mangalore 575001',
    latitude: 12.9141,
    longitude: 74.8560,
    distance: 4.5,
    rating: 4.7,
    reviewCount: 278,
    openingHours: 'Tue-Sun: 9:00 AM - 6:00 PM, Closed Mondays',
    description: 'Fresh seafood daily from local fishermen. Best quality guaranteed. We offer a wide variety of fish, prawns, and other seafood. All products are fresh and sustainably sourced.',
    imageUrl: 'https://images.unsplash.com/photo-1544947950-fa07a98d237f?q=80&w=800',
    products: [
      { productId: 'prod110', price: 18.99, stock: 'Available', stockCount: 8 },
    ],
    contactEmail: 'seafood@seaside.com',
    contactPhone: '+91 824 1234 567',
    isVerified: true,
    featured: false,
  },
  {
    id: 'vend206',
    name: 'Sweet Treats Bakery',
    address: '303 Baker Street, Jayanagar, Bangalore 560011',
    latitude: 12.9279,
    longitude: 77.5831,
    distance: 2.8,
    rating: 4.5,
    reviewCount: 145,
    openingHours: 'Wed-Sun: 7:00 AM - 5:00 PM, Closed Mon-Tue',
    description: 'Artisan bakery specializing in fresh breads and pastries. All items are baked daily using traditional methods and premium ingredients. A favorite among locals.',
    imageUrl: 'https://images.unsplash.com/photo-1509440159596-0249088772ff?q=80&w=800',
    products: [
      { productId: 'prod102', price: 5.25, stock: 'Available', stockCount: 25 },
      { productId: 'prod112', price: 6.99, stock: 'Available', stockCount: 18 },
    ],
    contactEmail: 'hello@sweettreats.com',
    contactPhone: '+91 80 5678 9012',
    isVerified: true,
    featured: false,
  },
  {
    id: 'vend207',
    name: 'Spice Bazaar',
    address: '404 Commercial Street, Bangalore 560001',
    latitude: 12.9716,
    longitude: 77.5946,
    distance: 1.2,
    rating: 4.8,
    reviewCount: 267,
    openingHours: 'Daily: 9:00 AM - 8:00 PM',
    description: 'Your one-stop shop for authentic Indian spices, grains, and specialty items. We source directly from farmers and spice growers across India.',
    imageUrl: 'https://images.unsplash.com/photo-1596040033229-a9821ebd058d?q=80&w=800',
    products: [
      { productId: 'prod114', price: 14.99, stock: 'Available', stockCount: 20 },
      { productId: 'prod116', price: 9.99, stock: 'Available', stockCount: 15 },
    ],
    contactEmail: 'info@spicebazaar.com',
    contactPhone: '+91 80 6789 0123',
    isVerified: true,
    featured: false,
  },
];

// --- Helper function to simulate searching ---
export const searchProductsAndVendors = (query, category, brand, userLocation = { lat: 12.9716, lng: 77.5946 }) => {
  let filteredProducts = mockProducts.filter(product => {
    const matchesQuery = !query || 
      product.name.toLowerCase().includes(query.toLowerCase()) || 
      product.description.toLowerCase().includes(query.toLowerCase()) ||
      product.tags.some(tag => tag.toLowerCase().includes(query.toLowerCase()));
    const matchesCategory = !category || category === 'All' || product.category.toLowerCase() === category.toLowerCase();
    const matchesBrand = !brand || brand === 'All' || product.brand.toLowerCase().includes(brand.toLowerCase());
    return matchesQuery && matchesCategory && matchesBrand;
  });

  // Now find vendors that sell these filtered products
  let results = [];
  mockVendors.forEach(vendor => {
    vendor.products.forEach(vendorProduct => {
      const product = filteredProducts.find(p => p.id === vendorProduct.productId);
      if (product) {
        // Calculate distance
        const dist = calculateDistance(userLocation.lat, userLocation.lng, vendor.latitude, vendor.longitude);

        results.push({
          product,
          vendor: {
            ...vendor,
            distance: parseFloat(dist.toFixed(2)),
          },
          price: vendorProduct.price,
          stock: vendorProduct.stock,
          stockCount: vendorProduct.stockCount,
        });
      }
    });
  });

  // Sort by distance for nearby vendors
  results.sort((a, b) => a.vendor.distance - b.vendor.distance);

  return results;
};

// Simple Haversine formula for distance calculation (in kilometers)
function calculateDistance(lat1, lon1, lat2, lon2) {
  const R = 6371; // Radius of Earth in kilometers
  const dLat = (lat2 - lat1) * Math.PI / 180;
  const dLon = (lon2 - lon1) * Math.PI / 180;
  const a =
    Math.sin(dLat / 2) * Math.sin(dLat / 2) +
    Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *
    Math.sin(dLon / 2) * Math.sin(dLon / 2);
  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
  const distance = R * c;
  return distance;
}

// Mock categories for dropdowns
export const mockCategories = [
  'All', 'Dairy', 'Bakery', 'Produce', 'Beverages', 'Pantry', 'Meat', 'Seafood', 'Frozen', 'Snacks', 'Spices'
];

// Mock brands
export const mockBrands = [
  'All', 'Happy Cow Dairies', 'Baker\'s Delight', 'Green Harvest Farms', 
  'Bean Voyage', 'Bee Happy Apiary', 'Farm Fresh', 'Pasta Artisan', 
  'Berry Farms', 'Mediterranean Gold', 'Ocean Fresh', 'Creamy Delight', 
  'Cocoa Dreams', 'Garden Fresh', 'Golden Grain', 'Green Leaf Farms', 'Nutty Delights'
];

// Get product by ID
export const getProductById = (id) => {
  return mockProducts.find(p => p.id === id);
};

// Get vendor by ID
export const getVendorById = (id) => {
  return mockVendors.find(v => v.id === id);
};

// Get vendors selling a product
export const getVendorsForProduct = (productId) => {
  return mockVendors
    .filter(vendor => vendor.products.some(p => p.productId === productId))
    .map(vendor => {
      const productInfo = vendor.products.find(p => p.productId === productId);
      return {
        ...vendor,
        productPrice: productInfo.price,
        productStock: productInfo.stock,
        productStockCount: productInfo.stockCount,
      };
    })
    .sort((a, b) => a.distance - b.distance);
};
